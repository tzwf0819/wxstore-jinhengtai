<view class="container">
  <view wx:if="{{loading}}" class="loading-tip">加载中...</view>

  <block wx:if="{{!loading && product}}">
    <!-- Product Image Swiper -->
    <swiper class="product-swiper" autoplay circular indicator-dots>
      <swiper-item>
        <image 
          class="product-image" 
          src="{{product.image_url || '/static/images/product_placeholder.png'}}" 
          mode="aspectFill"
        />
      </swiper-item>
    </swiper>
    
    <!-- Product Information Section -->
    <view class="product-info">
      <view class="price-bar">
        <text class="price">¥{{product.price}}</text>
        <text class="stock">库存: {{product.current_stock}}</text>
      </view>
      <view class="name">{{product.name}}</view>
    </view>

    <!-- Product Details Section -->
    <view class="detail-section">
      <view class="section-title">商品详情</view>
      <view class="description">{{product.description || '暂无详细描述'}}</view>
    </view>
  </block>

  <view wx:if="{{!loading && !product}}" class="empty-tip">
    商品信息不存在
  </view>

  <!-- Bottom Action Bar -->
  <view class="bottom-bar">
    <view class="btn-group">
      <button class="bar-btn cart-btn" bindtap="goToCart">
        <image src="/static/images/tab-bar/cart.png" />
        <view>购物车</view>
      </button>
    </view>
    <view class="action-group">
      <button class="action-btn add-to-cart" bindtap="onAddToCart">加入购物车</button>
      <button class="action-btn buy-now" bindtap="onBuyNow">立即购买</button>
    </view>
  </view>
</view>
